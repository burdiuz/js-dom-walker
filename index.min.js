!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.DOMWalker={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var r=o(function(e,t){let o;Object.defineProperty(t,"__esModule",{value:!0});const r=()=>o;var n,s=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const o=(e=>(t,o)=>Boolean(t&&e.call(t,o)))(Object.prototype.hasOwnProperty);t.hasOwn=o,t.default=o}),a=(n=s)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;s.hasOwn;const i={},d=e=>e.charAt(),l=e=>!!(e&&"string"==typeof e&&e.length>1)&&a(i,d(e)),u=e=>t=>{const o=(e=>i[d(e)])(t);return o&&o[e]},c=u("get"),p=u("has"),f=u("set"),g=u("deleteProperty"),h=e=>"number"==typeof e&&e>>>0===e||`${parseInt(String(e),10)}`===e,m=(e,t,o)=>void 0!==o?t.getChildrenByName(e,o):e,y=(e,t,o)=>t.toNode(m(e,t,o)),N=(e,t,o)=>t.toList(m(e,t,o));let w={};const v=e=>{w=Object.assign({},w,e)},A=e=>e&&"string"==typeof e&&a(w,e);let b,O;const P={constructor:!0,prototype:!0},L=(e,t,o)=>t.isNode(e)||t.isList(e)?new Proxy(((e,t,o)=>{function r(){throw new Error("Should have been never called")}return r.node=e,r.childName=o,r.adapter=t,r})(e,t,o),b):e;O={isIntKey:h,getValue:m,getSingleNode:y,getNodeList:N,wrap:L};const x=(e,t,o)=>{if(!o)throw new Error(`Operation "${e}" is not supported for prefix "${d(t)}".`)};b={get:({node:e,adapter:t,childName:o},r)=>{if("symbol"==typeof r||!0===P[r])return y(e,t,o)[r];if(h(r))return L(t.getNodeAt(N(e,t,o),r),t);if(l(r)){const n=c(r);return x("get",r,n),n(m(e,t,o),t,[r.substr(1)],O)}const n=m(e,t,o);return L(n,t,r)},has:({node:e,adapter:t,childName:o},r)=>{if("symbol"==typeof r||!0===P[r])return r in y(e,t,o);if(h(r))return!!t.getNodeAt(N(e,t,o),r);if(l(r)){const n=p(r);return x("has",r,n),n(m(e,t,o),t,[r.substr(1)],O)}return t.hasChild(y(e,t,o),r)},apply:({node:e,adapter:t,childName:o},r,n)=>{if(void 0===o)throw new Error("Cannot call on TreeWalker Node");if(A(o))return((e,...t)=>w[e](...t))(o,e,t,n,O);const s=t.toNode(e);if("function"==typeof s[o])return s[o](...n);throw new Error(`"${o}" is not a callable object.`)},set:({node:e,adapter:t,childName:o},r,n)=>{if("symbol"==typeof r||!0===P[r])return y(e,t,o)[r]=n,!0;if(l(r)){const s=f(r);return x("set",r,s),s(m(e,t,o),t,[r.substr(1),n],O)}throw new Error('Operation "set" is not supported for nodes.')},deleteProperty:({node:e,adapter:t,childName:o},r)=>{if("symbol"==typeof r||!0===P[r])return delete y(e,t,o)[r];if(l(r)){const n=g(r);return x("deleteProperty",r,n),n(m(e,t,o),t,[r.substr(1)],O)}throw new Error('Operation "deleteProperty" is not supported for nodes.')}};var _={toString:(e,t)=>t.string?t.string(e):e.toString(),valueOf:(e,t)=>t.value?t.value(e):e};const j=(e,t,o,r)=>{const n=[],s=[],a=t.getChildren(e),i=t.getLength(a,t);for(let e=0;e<i;e+=1){const i=a[e];n.push(i),s.push.apply(s,j(i,t,o,r))}return[...n,...s]},C=(e,t,o,r)=>{const[n]=o,s=[],a=[],i=t.getChildren(e),d=t.getLength(i,t);for(let e=0;e<d;e+=1){const d=t.getNodeAt(i,e);t.getName(d)===n&&s.push(d),a.push.apply(a,C(d,t,o,r))}return[...s,...a]};var E={name:(e,t)=>t.getName(e),children:(e,t,[o],r)=>{let n;return n=o?t.getChildrenByName(e,o):t.getChildren(e),r.wrap(n,t)},descendants:(e,t,o,r)=>{const[n]=o;return n?r.wrap(C(e,t,o,r),t):r.wrap(j(e,t,o,r),t)},childAt:(e,t,[o=0],r)=>r.wrap(t.getChildAt(e,o),t),root:(e,t,o,r)=>r.wrap(t.getNodeRoot(e),t),parent:(e,t,o,r)=>r.wrap(t.getNodeParent(e),t)};const M=(e,t,o,r)=>{const[n=0]=o;let s;if(t.isList(e)){const o=t.getNodeAt(e,n);o&&(s=o)}else n||(s=e);return r.wrap(s||[],t)};var S={length:(e,t)=>t.isList(e)?t.getLength(e):t.isNode(e)?1:0,at:M,first:(e,t,o,r)=>M(e,t,[0],r),filter:(e,t,[o],r)=>{const n=t.toList(e),s=t.getLength(e),a=[],i=r.wrap(n,t);for(let e=0;e<s;e+=1){const s=t.getNodeAt(n,e);o(r.wrap(s,t),e,i)&&a.push(s)}return r.wrap(a,t)},map:(e,t,[o],r)=>{const n=t.toList(e),s=t.getLength(n),a=[],i=r.wrap(n,t);for(let e=0;e<s;e+=1){const s=t.getNodeAt(n,e),d=o(r.wrap(s,t),e,i);a.push(d)}return a},reduce:(e,t,[o,r],n)=>{const s=t.toList(e),a=t.getLength(e);let i=r;const d=n.wrap(s,t);for(let e=0;e<a;e+=1){const r=t.getNodeAt(s,e);i=o(i,n.wrap(r,t),e,d)}return i}};v(_);const R=(e,t=r())=>L(t.validateRoot(e),t);t.setDefaultAdapter=(e=>{o=e}),t.getDefaultAdapter=r,t.addAugmentations=v,t.hasAugmentation=A,t.resetAugmentations=((e={})=>{w=e}),t.coreAugmentations=_,t.nodeAugmentations=E,t.listAugmentations=S,t.setNamePrefix=((e,t)=>{if("string"!=typeof e||1!==e.length)throw new Error("Name Prefix must be one character string.");if("function"==typeof t)i[e]={get:t,has:(...e)=>void 0!==t(...e)};else{const{get:o,set:r,has:n,deleteProperty:s}=t;i[e]={get:o,set:r,has:n,deleteProperty:s}}}),t.isValidPrefix=(e=>"string"==typeof e&&a(i,e)),t.create=R,t.default=R});t(r);r.setDefaultAdapter,r.getDefaultAdapter;var n=r.addAugmentations,s=(r.hasAugmentation,r.resetAugmentations),a=r.coreAugmentations,i=r.nodeAugmentations,d=r.listAugmentations,l=r.setNamePrefix,u=(r.isValidPrefix,r.create),c=t(o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const o=e=>e instanceof Array||e instanceof HTMLCollection||e instanceof NodeList,r=(...e)=>{const{length:t}=e,[r]=e;if(1===t&&o(r))return r;const n=[];for(let r=0;r<t;r++){const t=e[r];o(t)?n.push.call(t):n.push(t)}return n},n=e=>e instanceof HTMLElement,s=e=>o(e)?e.length?e[0]:null:n(e)?e:null,a=e=>(e=s(e),n(e)?e.children:r());var i={isList:o,toList:r,isNode:n,toNode:s,getNodeAt:(e,t=0)=>o(e)?e[t]:e,getLength:e=>e.length,getName:e=>s(e).nodeName,getChildren:a,getChildrenByName:(e,t)=>{t=t.toLowerCase();const o=a(e),{length:r}=o;if(!r)return o;const n=[];for(let e=0;e<o.length;e++){const r=o[e];r.nodeName.toLowerCase()===t&&n.push(r)}return n},hasChild:(e,t)=>{const o=a(e),{length:r}=o;for(let e=0;e<r;e++)if(o[e].nodeName===t)return!0;return!1},getChildAt:(e,t)=>a(e)[t],getNodeParent:e=>s(e).parentNode,getNodeRoot:e=>s(e).getRootNode(),validateRoot:e=>void 0===e||e===document?document.firstElementChild:"string"==typeof e?document.querySelector(e):e};t.default=i})),p=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o={on:(e,t,[o,r])=>{const n=t.toNode(e);return n.addEventListener(o,r),()=>n.removeEventListener(o,r)},off:(e,t,[o,r])=>{t.toNode(e).removeEventListener(o,r)},emmit:(e,t,[o])=>{t.toNode(e).dispatchEvent(o instanceof Event?o:new Event(String(o)))}};var r={name:(e,t)=>t.getName(e),text:(e,t)=>t.toNode(e).innerText,attributes:(e,t)=>t.toNode(e).attributes,attribute:(e,t,o)=>{const[r]=o,n=t.toNode(e);if(2===o.length){const[e]=o;void 0===e?n.removeAttribute(r):n.setAttribute(r,e)}return n.getAttribute(r)},parent:(e,t)=>t.getParentNode(e),root:(e,t)=>t.getRootNode(e),query:(e,t,[o],r)=>{const n=t.toNode(e).querySelector(o);return r.wrap(t.isNode(n)?n:[],t)},queryAll:(e,t,[o],r)=>{const n=t.toNode(e).querySelectorAll(o);return r.wrap(n,t)}};t.eventAugmentations=o,t.elementAugmentations=r});t(p);var f=p.eventAugmentations,g=p.elementAugmentations,h=o(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const o=(e=>(t,o)=>Boolean(t&&e.call(t,o)))(Object.prototype.hasOwnProperty);t.hasOwn=o,t.default=o}),n=(o=r)&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;r.hasOwn;const s=(e,[t])=>e?e[t]:void 0,a=(e,[t])=>n(e,t),i=(e,[t,o])=>!!e&&(e[t]=o,!0),d=(e,[t])=>!!e&&delete e[t],l=e=>e,u=(e,t)=>(o,r,...n)=>t(e(r.toNode(o)),...n),c=(e=l)=>({get:u(e,s),has:u(e,a)});t.createROHandlers=c,t.createHandlers=((e=l)=>Object.assign({},c(e),{set:u(e,i),deleteProperty:u(e,d)}))});t(h);h.createROHandlers;var m=h.createHandlers;n(a),n(Object.assign({},i,{descendants:(({descendants:e})=>(t,o,r,n)=>{const[s]=r;return e(t,o,s?[s.toLowerCase()]:r,n)})(i)})),n(d),n(f),n(g),l("$",m());const y=(e,t=c)=>u(e,Object.assign({},t,{getName:(({getName:e})=>(...t)=>e(...t).toLowerCase())(t)}));e.addAugmentations=n,e.resetAugmentations=s,e.setNamePrefix=l,e.create=y,e.default=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map
