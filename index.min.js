!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.DOMWalker={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r(function(e,t){let r;Object.defineProperty(t,"__esModule",{value:!0});const n=()=>r;var o,s=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e=>(t,r)=>Boolean(t&&e.call(t,r)))(Object.prototype.hasOwnProperty);t.hasOwn=r,t.default=r}),a=(o=s)&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;s.hasOwn;const i={},l=e=>e.charAt(),d=e=>e&&"string"==typeof e&&e.length>1&&a(i,l(e)),u=e=>t=>{const r=(e=>i[l(e)])(t);return r&&r[e]},c=u("get"),p=u("has"),f=u("set"),g=u("deleteProperty"),h=e=>"number"==typeof e&&e>>>0===e||`${parseInt(String(e),10)}`===e,m=(e,t,r)=>void 0!==r?t.getChildrenByName(e,r):e,y=(e,t,r)=>t.toNode(m(e,t,r)),N=(e,t,r)=>t.toList(m(e,t,r));let w={};const A=e=>{w=Object.assign({},w,e)},v=e=>e&&"string"==typeof e&&a(w,e);let b,O;const P={constructor:!0,prototype:!0},L=(e,t,r)=>t.isNode(e)||t.isList(e)?new Proxy(((e,t,r)=>{function n(){throw new Error("Should have been never called")}return n.node=e,n.childName=r,n.adapter=t,n})(e,t,r),b):e;O={isIntKey:h,getValue:m,getSingleNode:y,getNodeList:N,wrap:L};const x=(e,t,r)=>{if(!r)throw new Error(`Operation "${e}" is not supported for prefix "${l(t)}".`)};b={get:({node:e,adapter:t,childName:r},n)=>{if("symbol"==typeof n||!0===P[n])return y(e,t,r)[n];if(h(n))return L(t.getNodeAt(N(e,t,r),n),t);if(d(n)){const o=c(n);return x("get",n,o),o(m(e,t,r),t,[n.substr(1)],O)}const o=m(e,t,r);return L(o,t,n)},has:({node:e,adapter:t,childName:r},n)=>{if("symbol"==typeof n||!0===P[n])return n in y(e,t,r);if(h(n))return!!t.getNodeAt(N(e,t,r),n);if(d(n)){const o=p(n);return x("has",n,o),o(m(e,t,r),t,[n.substr(1)],O)}return t.hasChild(y(e,t,r),n)},apply:({node:e,adapter:t,childName:r},n,o)=>{if(void 0===r)throw new Error("Cannot call on TreeWalker Node");if(v(r))return((e,...t)=>w[e](...t))(r,e,t,o,O);const s=t.toNode(e);if("function"==typeof s[r])return s[r](...o);throw new Error(`"${r}" is not a callable object.`)},set:({node:e,adapter:t,childName:r},n,o)=>{if("symbol"==typeof n||!0===P[n])return y(e,t,r)[n]=o,!0;if(d(n)){const s=f(n);return x("set",n,s),s(m(e,t,r),t,[n.substr(1),o],O)}throw new Error('Operation "set" is not supported for nodes.')},deleteProperty:({node:e,adapter:t,childName:r},n)=>{if("symbol"==typeof n||!0===P[n])return delete y(e,t,r)[n];if(d(n)){const o=g(n);return x("deleteProperty",n,o),o(m(e,t,r),t,[n.substr(1)],O)}throw new Error('Operation "deleteProperty" is not supported for nodes.')}};var _={toString:(e,t)=>t.string?t.string(e):e.toString(),valueOf:(e,t)=>t.value?t.value(e):e};const C=(e,t,r,n)=>{const o=[],s=[],a=t.getChildren(e),i=t.getLength(a,t);for(let e=0;e<i;e+=1){const i=a[e];o.push(i),s.push.apply(s,C(i,t,r,n))}return[...o,...s]},j=(e,t,r,n)=>{const[o]=r,s=[],a=[],i=t.getChildren(e),l=t.getLength(i,t);for(let e=0;e<l;e+=1){const l=t.getNodeAt(i,e);t.getName(l)===o&&s.push(l),a.push.apply(a,j(l,t,r,n))}return[...s,...a]};var E={name:(e,t)=>t.getName(e),children:(e,t,[r],n)=>{let o;return o=r?t.getChildrenByName(e,r):t.getChildren(e),n.wrap(o,t)},descendants:(e,t,r,n)=>{const[o]=r;return o?n.wrap(j(e,t,r,n),t):n.wrap(C(e,t,r,n),t)},childAt:(e,t,[r=0],n)=>n.wrap(t.getChildAt(e,r),t),root:(e,t,r,n)=>n.wrap(t.getNodeRoot(e),t),parent:(e,t,r,n)=>n.wrap(t.getNodeParent(e),t)};const M=(e,t,r,n)=>{const[o=0]=r;let s;if(t.isList(e)){const r=t.getNodeAt(e,o);r&&(s=r)}else o||(s=e);return n.wrap(s||[],t)};var S={length:(e,t)=>t.isList(e)?t.getLength(e):t.isNode(e)?1:0,at:M,first:(e,t,r,n)=>M(e,t,[0],n),filter:(e,t,[r],n)=>{const o=t.toList(e),s=t.getLength(e),a=[],i=n.wrap(o,t);for(let e=0;e<s;e+=1){const s=t.getNodeAt(o,e);r(n.wrap(s,t),e,i)&&a.push(s)}return n.wrap(a,t)},map:(e,t,[r],n)=>{const o=t.toList(e),s=t.getLength(o),a=[],i=n.wrap(o,t);for(let e=0;e<s;e+=1){const s=t.getNodeAt(o,e),l=r(n.wrap(s,t),e,i);a.push(l)}return a},reduce:(e,t,[r,n],o)=>{const s=t.toList(e),a=t.getLength(e);let i=n;const l=o.wrap(s,t);for(let e=0;e<a;e+=1){const n=t.getNodeAt(s,e);i=r(i,o.wrap(n,t),e,l)}return i}};A(_);const R=(e,t=n())=>L(t.validateRoot(e),t);t.setDefaultAdapter=(e=>{r=e}),t.getDefaultAdapter=n,t.addAugmentations=A,t.hasAugmentation=v,t.resetAugmentations=((e={})=>{w=e}),t.coreAugmentations=_,t.nodeAugmentations=E,t.listAugmentations=S,t.setNamePrefix=((e,t)=>{if("string"!=typeof e||1!==e.length)throw new Error("Name Prefix must be one character string.");if("function"==typeof t)i[e]={get:t,has:(...e)=>void 0!==t(...e)};else{const{get:r,set:n,has:o,deleteProperty:s}=t;i[e]={get:r,set:n,has:o,deleteProperty:s}}}),t.isValidPrefix=(e=>"string"==typeof e&&a(i,e)),t.create=R,t.default=R});t(n);n.setDefaultAdapter,n.getDefaultAdapter;var o=n.addAugmentations,s=(n.hasAugmentation,n.resetAugmentations),a=n.coreAugmentations,i=n.nodeAugmentations,l=n.listAugmentations,d=n.setNamePrefix,u=(n.isValidPrefix,n.create),c=t(r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=e=>e instanceof Array||e instanceof HTMLCollection||e instanceof NodeList,n=(...e)=>{const{length:t}=e,[n]=e;if(1===t&&r(n))return n;const o=[];for(let n=0;n<t;n++){const t=e[n];r(t)?o.push.call(t):o.push(t)}return o},o=e=>e instanceof HTMLElement,s=e=>r(e)?e.length?e[0]:null:o(e)?e:null,a=e=>(e=s(e),o(e)?e.children:n());var i={isList:r,toList:n,isNode:o,toNode:s,getNodeAt:(e,t=0)=>r(e)?e[t]:e,getLength:e=>e.length,getChildren:a,getChildrenByName:(e,t)=>{t=t.toLowerCase();const r=a(e),{length:n}=r;if(!n)return r;const o=[];for(let e=0;e<r.length;e++){const n=r[e];n.nodeName.toLowerCase()===t&&o.push(n)}return o},hasChildren:e=>!!s(e).childElementCount,hasChild:(e,t)=>{const r=a(e),{length:n}=r;for(let e=0;e<n;e++)if(r[e].nodeName===t)return!0;return!1},getChildAt:(e,t)=>a(e)[t],getAttributes:e=>(e=s(e)).hasAttributes()?e.attributes:null,hasAttribute:(e,t)=>s(e).hasAttribute(t),getAttributeValue:(e,t)=>s(e).getAttribute(t),getName:e=>s(e).nodeName,getText:e=>s(e).innerText,getNodeParent:e=>s(e).parentNode,getNodeRoot:e=>s(e).getRootNode(),validateRoot:e=>void 0===e||e===document?document.firstElementChild:"string"==typeof e?document.querySelector(e):e};t.default=i})),p=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={on:(e,t,[r,n])=>((e=t.toNode(e)).addEventListener(r,n),()=>e.removeEventListener(r,n)),off:(e,t,[r,n])=>{t.toNode(e).removeEventListener(r,n)},emmit:(e,t,[r])=>{t.toNode(e).dispatchEvent(r instanceof Event?r:new Event(String(r)))}};var n={name:(e,t)=>t.getName(e),text:(e,t)=>t.getText(e),attributes:(e,t)=>t.getAttributes(e),query:(e,t,[r],n)=>{const o=t.toNode(e).querySelector(r);return n.wrap(t.isNode(o)?o:[],t)},queryAll:(e,t,[r],n)=>{const o=t.toNode(e).querySelectorAll(r);return n.wrap(o,t)}};t.eventAugmentations=r,t.elementAugmentations=n});t(p);var f=p.eventAugmentations,g=p.elementAugmentations,h=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,n=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e=>(t,r)=>Boolean(t&&e.call(t,r)))(Object.prototype.hasOwnProperty);t.hasOwn=r,t.default=r}),o=(r=n)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;n.hasOwn;const s=(e,[t])=>e?e[t]:void 0,a=(e,[t])=>o(e,t),i=(e,[t,r])=>!!e&&(e[t]=r,!0),l=(e,[t])=>!!e&&delete e[t],d=e=>e,u=(e,t)=>(r,n,...o)=>t(e(n.toNode(r)),...o),c=(e=d)=>({get:u(e,s),has:u(e,a)});t.createROHandlers=c,t.createHandlers=((e=d)=>Object.assign({},c(e),{set:u(e,i),deleteProperty:u(e,l)}))});t(h);h.createROHandlers;var m=h.createHandlers;o(a),o(i),o(l),o(f),o(g),d("$",m());const y=(e,t=c)=>u(e,t);e.addAugmentations=o,e.resetAugmentations=s,e.setNamePrefix=d,e.create=y,e.default=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map
