!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.DOMWalker={})}(this,function(e){"use strict";var t,r,n=(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});let r=null;const n=()=>r,o={},a=e=>"string"==typeof e&&1===e.length&&o.hasOwnProperty(e),i=e=>e&&"string"==typeof e&&e.length>1&&o.hasOwnProperty(e.charAt()),s=e=>o[e.charAt()],l=e=>`${parseInt(e,10)}`===e,d=(e,t,r)=>void 0!==r?t.getChildrenByName(e,r):e,u=(e,t,r)=>{const n=d(e,t,r);return t.isList(n)?t.getNodeAt(e):n},g=(e,t,r)=>t.toList(d(e,t,r));let c={};const h=(e={})=>{c=Object.assign({},c,e)},f=e=>e&&"string"==typeof e&&c.hasOwnProperty(e);let p,m;const N=(e,t,r)=>t.isNode(e)||t.isList(e)?new Proxy(((e,t,r)=>{function n(){throw new Error("Should have been never called")}return n.node=e,n.childName=r,n.adapter=t,n})(e,t,r),p):e;m={isIntKey:l,getValue:d,getSingleNode:u,getNodeList:g,wrap:N};p={get:({node:e,adapter:t,childName:r},n)=>{if(l(n))return N(t.getNodeAt(g(e,t,r),n),t);if(i(n))return s(n)(d(e,t,r),t,[n.substr(1)],m);return N(d(e,t,r),t,n)},has:({node:e,adapter:t,childName:r},n)=>l(n)?!!t.getNodeAt(g(e,t,r),n):!!i(n)||t.hasChild(u(),n),apply:({node:e,adapter:t,childName:r},n,o)=>{if(void 0===r)throw new Error("Cannot call on TreeWalker Node");if(a(r))return s(r)(e,t,o,m);if(f(r))return((e,...t)=>c[e](...t))(r,e,t,o,m);throw new Error(`"${r}" is not a callable object.`)}};var A={toString:e=>e.toString(),valueOf:e=>e,[Symbol.toPrimitive]:e=>e};var w={children:(e,t,[r],n)=>{let o;return o=r?t.getChildrenByName(e,r):t.getChildren(e),n.wrap(o,t)},childAt:(e,t,[r=0],n)=>n.wrap(t.getChildAt(e,r),t),root:(e,t,r,n)=>n.wrap(t.getNodeRoot(e),t),parent:(e,t,r,n)=>n.wrap(t.getNodeParent(e),t)};var y={length:(e,t)=>t.isList(e)?t.getLength(e):t.isNode(e)?1:0,first:(e,t,r,n)=>{let o=e;return t.isList(e)&&(e.length?[o]=e:o=[]),n.wrap(o,t)},filter:(e,t,[r],n)=>{e=t.toList(e);const o=[],a=n.wrap(e,t);for(let i=0;i<e.length;i+=1){const s=e[i];r(n.wrap(s,t),i,a)&&o.push(s)}return n.wrap(o,t)},map:(e,t,[r,n=!0],o)=>{e=t.toList(e);const a=[];let i=!0;const s=o.wrap(e,t);for(let n=0;n<e.length;n+=1){const l=e[n],d=r(o.wrap(l,t),n,s);i=i&&t.isNode(d),a.push(d)}return n&&i?o.wrap(a,t):a},reduce:(e,t,[r,n],o)=>{e=t.toList(e);const a=o.wrap(e,t);for(let i=0;i<e.length;i+=1){const s=e[i];n=r(n,o.wrap(s,t),i,a)}return n}};h(A);const v=(e,t=n())=>N(t.validateRoot(e),t);t.setDefaultAdapter=(e=>{r=e}),t.getDefaultAdapter=n,t.addAugmentations=h,t.hasAugmentation=f,t.resetAugmentations=((e={})=>{c=e}),t.coreAugmentations=A,t.nodeAugmentations=w,t.listAugmentations=y,t.setNamePrefix=((e,t)=>{if("string"!=typeof e||1!==e.length)throw new Error("Name Prefix must be one character string.");o[e]=t}),t.isValidPrefix=a,t.create=v,t.default=v}(t={exports:{}},t.exports),t.exports);(r=n)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")&&r.default;var o=n.setDefaultAdapter,a=(n.getDefaultAdapter,n.addAugmentations),i=(n.hasAugmentation,n.resetAugmentations),s=n.coreAugmentations,l=n.nodeAugmentations,d=n.listAugmentations,u=n.setNamePrefix,g=(n.isValidPrefix,n.create);var c={on:(e,t,[r,n])=>((e=t.toNode(e)).addEventListener(r,n),()=>e.removeEventListener(r,n)),off:(e,t,[r,n])=>{t.toNode(e).removeEventListener(r,n)},emmit:(e,t,[r])=>{t.toNode(e).dispatchEvent(r instanceof Event?r:new Event(String(r)))}};var h={name:(e,t)=>t.getName(e),text:(e,t)=>t.getText(e),attributes:(e,t)=>t.getAttributes(e),query:(e,t,[r],n)=>{const o=t.toNode(e).querySelector(r);return n.wrap(t.isNode(o)?o:[],t)},queryAll:(e,t,[r],n)=>{const o=t.toNode(e).querySelectorAll(r);return n.wrap(o,t)}};const f=e=>e instanceof Array||e instanceof HTMLCollection||e instanceof NodeList,p=(...e)=>{const{length:t}=e,[r]=e;if(1===t&&f(r))return r;const n=[];for(let r=0;r<t;r++){const t=e[r];f(t)?n.push.call(t):n.push(t)}return n},m=e=>e instanceof HTMLElement,N=e=>f(e)?e.length?e[0]:null:m(e)?e:null,A=e=>(e=N(e),m(e)?e.children:p());var w={isList:f,toList:p,isNode:m,toNode:N,getNodeAt:(e,t=0)=>f(e)?e[t]:e,getLength:e=>e.length,getChildren:A,getChildrenByName:(e,t)=>{t=t.toLowerCase();const r=A(e),{length:n}=r;if(!n)return r;const o=[];for(let e=0;e<r.length;e++){const n=r[e];n.nodeName.toLowerCase()===t&&o.push(n)}return o},hasChildren:e=>!!N(e).childElementCount,hasChild:(e,t)=>{const r=A(e),{length:n}=r;for(let e=0;e<n;e++)if(r[e].nodeName===t)return!0;return!1},getChildAt:(e,t)=>A(e)[t],getAttributes:e=>(e=N(e)).hasAttributes()?e.attributes:null,hasAttribute:(e,t)=>N(e).hasAttribute(t),getAttributeValue:(e,t)=>N(e).getAttribute(t),getName:e=>N(e).nodeName,getText:e=>N(e).innerText,getNodeParent:e=>N(e).parentNode,getNodeRoot:e=>N(e).getRootNode(),validateRoot:e=>void 0===e||e===document?document.firstElementChild:"string"==typeof e?document.querySelector(e):e};o(w),a(s),a(l),a(d),a(c),a(h),u("$",(e,t,[r])=>t.getAttributeValue(e,r));const y=(e,t=w)=>g(e,t);e.addAugmentations=a,e.resetAugmentations=i,e.setNamePrefix=u,e.create=y,e.default=y,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=dom-walker.min.js.map
