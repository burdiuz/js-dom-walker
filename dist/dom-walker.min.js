!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.DOMWalker={})}(this,function(t){"use strict";var e,r,o=(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});let r=null;const o=()=>r,n={},i=t=>"string"==typeof t&&1===t.length&&n.hasOwnProperty(t),a=t=>t&&"string"==typeof t&&t.length>1&&n.hasOwnProperty(t.charAt()),s=t=>n[t.charAt()],l=t=>`${parseInt(t,10)}`===t,d=(t,e,r)=>void 0!==r?e.getChildrenByName(t,r):t,u=(t,e,r)=>{const o=d(t,e,r);return e.isList(o)?e.getNodeAt(t):o},h=(t,e,r)=>e.toList(d(t,e,r));let g={};const c=(t={})=>{g=Object.assign({},g,t)},f=t=>t&&"string"==typeof t&&g.hasOwnProperty(t);let p,m;const y=(t,e,r)=>e.isNode(t)||e.isList(t)?new Proxy(((t,e,r)=>{function o(){throw new Error("should have been never called")}return o.node=t,o.childName=r,o.adapter=e,o})(t,e,r),p):t;m={isIntKey:l,getValue:d,getSingleNode:u,getNodeList:h,wrapWithProxy:y};p={get:({node:t,adapter:e,childName:r},o)=>{if(l(o))return y(e.getNodeAt(h(t,e,r),o),e);if(a(o))return s(o)(d(t,e,r),e,[o.substr(1)],m);return y(d(t,e,r),e,o)},has:({node:t,adapter:e,childName:r},o)=>l(o)?!!e.getNodeAt(h(t,e,r),o):!!a(o)||e.hasChild(u(),o),apply:({node:t,adapter:e,childName:r},o,n)=>{if(void 0===r)throw new Error("Cannot call on TreeWalker Node");if(i(r))return s(r)(t,e,n,m);if(f(r))return((t,...e)=>g[t](...e))(r,t,e,n,m);throw new Error(`"${r}" is not a callable object.`)}};var N={toString:t=>t.toString(),valueOf:t=>t,[Symbol.toPrimitive]:t=>t};var A={children:(t,e,[r],o)=>{let n;return n=r?e.getChildrenByName(t,r):e.getChildren(t),o.wrapWithProxy(n,e)},childAt:(t,e,[r=0],o)=>o.wrapWithProxy(e.getChildAt(t,r),e),root:(t,e,r,o)=>o.wrapWithProxy(e.getNodeRoot(t),e),parent:(t,e,r,o)=>o.wrapWithProxy(e.getNodeParent(t),e)};var x={length:(t,e)=>e.isList(t)?e.getLength(t):e.isNode(t)?1:0,first:(t,e,r,o)=>{let n=t;return e.isList(t)&&(t.length?[n]=t:n=[]),o.wrapWithProxy(n,e)},filter:(t,e,[r],o)=>{t=e.toList(t);const n=[],i=o.wrapWithProxy(t,e);for(let a=0;a<t.length;a+=1){const s=t[a];r(o.wrapWithProxy(s,e),a,i)&&n.push(s)}return o.wrapWithProxy(n,e)},map:(t,e,[r,o=!0],n)=>{t=e.toList(t);const i=[];let a=!0;const s=n.wrapWithProxy(t,e);for(let o=0;o<t.length;o+=1){const l=t[o],d=r(n.wrapWithProxy(l,e),o,s);a=a&&e.isNode(d),i.push(d)}return o&&a?n.wrapWithProxy(i,e):i},reduce:(t,e,[r,o],n)=>{t=e.toList(t);const i=n.wrapWithProxy(t,e);for(let a=0;a<t.length;a+=1){const s=t[a];o=r(o,n.wrapWithProxy(s,e),a,i)}return o}};c(N);const w=(t,e=o())=>y(e.validateRoot(t),e);e.setDefaultAdapter=(t=>{r=t}),e.getDefaultAdapter=o,e.addAugmentations=c,e.hasAugmentation=f,e.resetAugmentations=((t={})=>{g=t}),e.coreAugmentations=N,e.nodeAugmentations=A,e.listAugmentations=x,e.setNamePrefix=((t,e)=>{if("string"!=typeof t||1!==t.length)throw new Error("Name Prefix must be one character string.");n[t]=e}),e.isValidPrefix=i,e.create=w,e.default=w}(e={exports:{}},e.exports),e.exports);(r=o)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")&&r.default;var n=o.setDefaultAdapter,i=(o.getDefaultAdapter,o.addAugmentations),a=(o.hasAugmentation,o.resetAugmentations),s=o.coreAugmentations,l=o.nodeAugmentations,d=o.listAugmentations,u=o.setNamePrefix,h=(o.isValidPrefix,o.create);var g={on:(t,e,[r,o])=>((t=e.toNode(t)).addEventListener(r,o),()=>t.removeEventListener(r,o)),off:(t,e,[r,o])=>{e.toNode(t).removeEventListener(r,o)},emmit:(t,e,[r])=>{e.toNode(t).dispatchEvent(r instanceof Event?r:new Event(String(r)))}};var c={name:(t,e)=>e.getName(t),text:(t,e)=>e.getText(t),attributes:(t,e)=>e.getAttributes(t),query:(t,e,[r],o)=>{const n=e.toNode(t).querySelector(r);return o.wrapWithProxy(e.isNode(n)?n:[],e)},queryAll:(t,e,[r],o)=>{const n=e.toNode(t).querySelectorAll(r);return o.wrapWithProxy(n,e)}};const f=t=>t instanceof Array||t instanceof HTMLCollection||t instanceof NodeList,p=(...t)=>{const{length:e}=t,[r]=t;if(1===e&&f(r))return r;const o=[];for(let r=0;r<e;r++){const e=t[r];f(e)?o.push.call(e):o.push(e)}return o},m=t=>t instanceof HTMLElement,y=t=>f(t)?t.length?t[0]:null:m(t)?t:null,N=t=>(t=y(t),m(t)?t.children:p());var A={isList:f,toList:p,isNode:m,toNode:y,getNodeAt:(t,e=0)=>f(t)?t[e]:t,getLength:t=>t.length,getChildren:N,getChildrenByName:(t,e)=>{e=e.toLowerCase();const r=N(t),{length:o}=r;if(!o)return r;const n=[];for(let t=0;t<r.length;t++){const o=r[t];o.nodeName.toLowerCase()===e&&n.push(o)}return n},hasChildren:t=>!!y(t).childElementCount,hasChild:(t,e)=>{const r=N(t),{length:o}=r;for(let t=0;t<o;t++)if(r[t].nodeName===e)return!0;return!1},getChildAt:(t,e)=>N(t)[e],getAttributes:t=>(t=y(t)).hasAttributes()?t.attributes:null,hasAttribute:(t,e)=>y(t).hasAttribute(e),getAttributeValue:(t,e)=>y(t).getAttribute(e),getName:t=>y(t).nodeName,getText:t=>y(t).innerText,getNodeParent:t=>y(t).parentNode,getNodeRoot:t=>y(t).getRootNode(),validateRoot:t=>void 0===t||t===document?document.firstElementChild:"string"==typeof t?document.querySelector(t):t};n(A),i(s),i(l),i(d),i(g),i(c),u("$",(t,e,[r])=>e.getAttributeValue(t,r));const x=(t,e=A)=>h(t,e);t.addAugmentations=i,t.resetAugmentations=a,t.setNamePrefix=u,t.create=x,t.default=x,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=dom-walker.min.js.map
