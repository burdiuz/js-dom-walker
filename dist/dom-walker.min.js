!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.DOMWalker={})}(this,function(e){"use strict";let t=null;const r=e=>{t=e},n=()=>t,o={},i=e=>e&&"string"==typeof e&&e.length>1&&o.hasOwnProperty(e.charAt()),a=e=>o[e.charAt()],l=(e,t)=>{if("string"!=typeof e||1!==e.length)throw new Error("Name Prefix must be one character string.");o[e]=t};let d={};const s=(e={})=>{d=Object.assign({},d,e)},g=e=>`${parseInt(e,10)}`===e,u=(e,t,r)=>void 0!==r?t.getChildrenByName(e,r):e,c=(e,t,r)=>{const n=u(e,t,r);return t.isList(n)?t.getNodeAt(e):n},h=(e,t,r)=>t.toList(u(e,t,r));let f,m;const N=(e,t,r)=>t.isNode(e)||t.isList(e)?new Proxy(((e,t,r)=>{function n(){throw new Error("should have been never called")}return n.node=e,n.childName=r,n.adapter=t,n})(e,t,r),f):e;m={isIntKey:g,getValue:u,getSingleNode:c,getNodeList:h,wrapWithProxy:N};f={get:({node:e,adapter:t,childName:r},n)=>{if(g(n))return N(t.getNodeAt(h(e,t,r),n),t);if(i(n))return a(n)(u(e,t,r),t,[n.substr(1)],m);return N(u(e,t,r),t,n)},has:({node:e,adapter:t,childName:r},n)=>g(n)?!!t.getNodeAt(h(e,t,r),n):!!i(n)||t.hasChild(c(),n),apply:({node:e,adapter:t,childName:r},n,i)=>{if(void 0===r)throw new Error("Cannot call on TreeWalker Node");if((e=>"string"==typeof e&&1===e.length&&o.hasOwnProperty(e))(r))return a(r)(e,t,i,m);if((e=>e&&"string"==typeof e&&d.hasOwnProperty(e))(r))return((e,...t)=>d[e](...t))(r,e,t,i,m);throw new Error(`"${r}" is not a callable object.`)}};var p={toString:e=>e.toString(),valueOf:e=>e,[Symbol.toPrimitive]:e=>e};var y={on:(e,t,[r,n],o)=>{},off:(e,t,[r,n],o)=>{},emmit:(e,t,[r],n)=>{}};var A={length:(e,t)=>t.isList(e)?t.getLength(e):t.isNode(e)?1:0,first:(e,t,r,n)=>{},filter:(e,t,[r],n)=>{},map:(e,t,[r,n=!0],o)=>{},reduce:(e,t,[r,n],o)=>{}};const w=(e,t,r,n)=>{const o=n.getSingleNode(e,t);return o.hasAttributes()?o.attributes:null};var C={name:(e,t,r,n)=>t.getName(n.getSingleNode(e,t)),text:(e,t)=>t.getText(e),children:(e,t,[r],n)=>{let o;return e=n.getSingleNode(e,t),o=r?t.getChildrenByName(e,r):t.getChildren(e),n.wrapWithProxy(o,t)},attributes:w,attribute:(e,t,[r],n)=>{const o=w(e,t,0,n);if(o){const e=o.getNamedItem(r);if(e)return e.value}return""},childAt:(e,t,[r=0],n)=>t.getChildAt(n.getSingleNode(e,t),r),root:(e,t,r,n)=>n.wrapWithProxy(t.getNodeRoot(e),t),parent:(e,t,r,n)=>n.wrapWithProxy(t.getNodeParent(e),t),query:(e,t,[r],n)=>{},queryAll:(e,t,[r],n)=>{}};const b=e=>e instanceof HTMLCollection,v=(...e)=>{const{length:t}=e,[r]=e;if(1===t&&b(r))return r;const n=document.createDocumentFragment();for(let r=0;r<t;r++)n.appendChild(e[r]);return n.children},x=e=>e instanceof HTMLElement,L=e=>b(e)?e.length?e[0]:null:x(e)?e:null,P=e=>(e=L(e),x(e)?e.children:v());r({isList:b,toList:v,isNode:x,getNodeAt:(e,t=0)=>b(e)?e[t]:e,getLength:e=>e.length,getChildren:P,getChildrenByName:(e,t)=>{t=t.toLowerCase();const r=P(e),{length:n}=r;if(!n)return r;const o=document.createDocumentFragment();console.log(t,r);for(let e=0;e<r.length;e++){const n=r[e];console.log(" - ",n.nodeName.toLowerCase()),n.nodeName.toLowerCase()===t&&o.appendChild(n)}return o.children},hasChildren:e=>!!L(e).childElementCount,hasChild:(e,t)=>{const r=P(e),{length:n}=r;for(let e=0;e<n;e++)if(r[e].nodeName===t)return!0;return!1},getChildAt:(e,t)=>P(e)[t],hasAttribute:(e,t)=>L(e).hasAttribute(t),getAttributeValue:(e,t)=>L(e).getAttribute(t),getName:e=>L(e).nodeName,getText:e=>e.innerText,getNodeParent:e=>L(e).parentNode,getNodeRoot:e=>L(e).getRootNode(),validateRoot:e=>void 0===e||e===document?document.firstElementChild:"string"==typeof e?document.querySelector(e):e}),s(p),s(C),s(A),s(y),l("$",(e,t,[r])=>t.getAttributeValue(e,r));const S=(e,t=n())=>N(t.validateRoot(e),t);e.setDefaultAdapter=r,e.getDefaultAdapter=n,e.addAugmentations=s,e.resetAugmentations=((e={})=>{d=e}),e.setNamePrefix=l,e.create=S,e.default=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=dom-walker.min.js.map
